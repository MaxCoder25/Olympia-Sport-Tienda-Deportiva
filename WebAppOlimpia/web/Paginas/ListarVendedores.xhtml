<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <link href="./../resources/css/default.css" rel="stylesheet" type="text/css" />
                <link href="./../resources/css/cssLayout.css" rel="stylesheet" type="text/css" />
                <title>LISTAR VENDEDORES</title>
            </f:facet>
        </h:head>

        <h:body id="body">
            <h:form  id="formVen">

                <p:growl id="growl" showDetail="true" >
                    <p:autoUpdate/>
                </p:growl>
                <p:growl id="growl-sticky" for="sticky-key" showDetail="true" sticky="true" />

                <p:panel style="text-align: center; margin-left: 250px; width:1200px" header="Vendedores" >
                    <p:dataTable  id="tablaVen" var="columna" value="#{ManagedClientes.listaVendedores}" paginator="true" rows="10">

                        <p:column filterBy="#{columna.cedulaVendedor}" headerText="num_cedula">
                            <h:outputText value="#{columna.cedulaVendedor}" />
                        </p:column>

                        <p:column filterBy="#{columna.nombreVendedor}" headerText="Nombres">
                            <h:outputText value="#{columna.nombreVendedor}" />
                        </p:column> 

                        <p:column filterBy="#{columna.apellidoVendedor}" headerText="Apellidos">
                            <h:outputText value="#{columna.apellidoVendedor}" />
                        </p:column>


                        <p:column filterBy="#{columna.telefonoVendedor}" headerText="Telefono">
                            <h:outputText value="#{columna.telefonoVendedor}" />
                        </p:column>

 
                        <p:column >

                            <p:commandLink   update=":formVen:tablaVen" process=":formVen:tablaVen" value="Eliminar" actionListener="#{ManagedClientes.eliminarVendedor(columna)}"> 
                                <p:collector value="#{columna}" removeFrom="#{ManagedClientes.listaVendedores}"  unique="true"/> 
                            </p:commandLink>

                        </p:column>



                    </p:dataTable>
                      <br></br>
                         <br></br>
                </p:panel>   


            </h:form>

            <h:form id="formUsu">

                <p:panel style="text-align: center; margin-left: 250px; width:1200px" header="Usuarios" >

                    <p:dataTable id="tablaUsu" var="columna" value="#{ManagedClientes.listaUsuarios}" paginator="true" rows="10">


                        <p:column filterBy="#{columna.nombreUsuario}" headerText="Nombre De Usuario">
                            <h:outputText value="#{columna.nombreUsuario}" />
                        </p:column>


                        <p:column  headerText="Password">
                            <h:outputText value="#{columna.passwordUsuario}" />
                        </p:column>


                        <p:column filterBy="#{columna.email}" headerText="Email">
                            <h:outputText value="#{columna.email}" />
                        </p:column>

                        <p:column  headerText="Tipo Usuario">
                            <h:outputText value="Vendedor" />
                        </p:column>

                        <p:column >

                            <p:commandLink   update=":formUsu:tablaUsu" process=":formUsu:tablaUsu" value="Eliminar" actionListener="#{ManagedClientes.eliminarUsuario(columna)}"> 
                                <p:collector unique="true" value="#{columna}" removeFrom="#{ManagedClientes.listaUsuarios}" /> 
                            </p:commandLink>

                        </p:column>


                    </p:dataTable>   
                      <br></br>
                         <br></br>
                </p:panel>


            </h:form>



            <h:form id="formAdm">

                <p:panel style="text-align: center; margin-left: 250px; width:1000px" header="Administradores" >
                    <p:dataTable id="tablaAdm" var="columna" value="#{ManagedClientes.listaUsuariosA}" paginator="true" rows="10">


                        <p:column filterBy="#{columna.nombreUsuario}" headerText="Nombre De Usuario">
                            <h:outputText value="#{columna.nombreUsuario}" />
                        </p:column>


                        <p:column  headerText="Password">
                            <h:outputText value="#{columna.passwordUsuario}" />
                        </p:column>


                        <p:column filterBy="#{columna.email}" headerText="Email">
                            <h:outputText value="#{columna.email}" />
                        </p:column>

                        <p:column  headerText="Tipo Usuario">
                            <h:outputText value="Administrador" />
                        </p:column>




                    </p:dataTable>      
                </p:panel>



            </h:form>







            <h:form>
                <p:panel style="text-align: center; margin-left: 250px; width:1000px"   >

                    <p:commandButton action="PrincipalAdmin" value="Regresar" style="margin: 4px; width: 99px;" ajax="false"/>
                </p:panel>

            </h:form>

        </h:body>

    </f:view>
</html>